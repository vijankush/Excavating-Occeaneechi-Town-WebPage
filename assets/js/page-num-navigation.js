let pageNumJson = {
  "1": "background/001_historical_background.html",
  "2": "background/002_siouan_archaeology.html",
  "3": "background/003_fredricks_site_discovery.html",
  "4": "background/004_fredricks_site_excavation.html",
  "5": "background/005_list_of_figures.html",
  "6": "background/006_sources.html",
  "7": "background/007_introduction.html",
  "8": "background/008_the_invisible_invaders.html",
  "9": "background/009_the_impact_of_trade.html",
  "10": "background/010_war_and_peace.html",
  "11": "background/011_conclusion.html",
  "12": "background/012_notes.html",
  "13": "background/013_source.html",
  "14": "background/014_introduction.html",
  "15": "background/015_pre-revolutionary_war.html",
  "16": "background/016_post-revolutionary_war.html",
  "17": "background/017_twentieth_century.html",
  "18": "background/018_present_and_future.html",
  "19": "background/019_list_of_figures.html",
  "20": "background/020_source.html",
  "21": "excavations/021_burial_1.html",
  "22": "excavations/022_burial_2.html",
  "23": "excavations/023_burial_3.html",
  "24": "excavations/024_feature_1.html",
  "33": "excavations/033_feature_10.html",
  "34": "excavations/034_feature_11.html",
  "35": "excavations/035_feature_12.html",
  "36": "excavations/036_feature_13.html",
  "37": "excavations/037_feature_14_burial_11.html",
  "38": "excavations/038_feature_15.html",
  "39": "excavations/039_feature_16.html",
  "40": "excavations/040_feature_17.html",
  "41": "excavations/041_feature_18.html",
  "42": "excavations/042_feature_19.html",
  "25": "excavations/025_feature_2_burial_4.html",
  "43": "excavations/043_feature_20.html",
  "44": "excavations/044_feature_21.html",
  "45": "excavations/045_feature_22.html",
  "46": "excavations/046_feature_23.html",
  "47": "excavations/047_feature_24.html",
  "48": "excavations/048_feature_25.html",
  "49": "excavations/049_feature_26_burial_13.html",
  "50": "excavations/050_feature_27_burial_10.html",
  "51": "excavations/051_feature_28.html",
  "52": "excavations/052_feature_29.html",
  "26": "excavations/026_feature_3_burial_5.html",
  "53": "excavations/053_feature_30.html",
  "54": "excavations/054_feature_31.html",
  "55": "excavations/055_feature_32.html",
  "56": "excavations/056_feature_33.html",
  "57": "excavations/057_feature_34.html",
  "58": "excavations/058_feature_35.html",
  "59": "excavations/059_feature_36.html",
  "60": "excavations/060_feature_37.html",
  "61": "excavations/061_feature_38.html",
  "62": "excavations/062_feature_39.html",
  "27": "excavations/027_feature_4_burial_6.html",
  "63": "excavations/063_feature_40.html",
  "64": "excavations/064_feature_41.html",
  "65": "excavations/065_feature_42.html",
  "66": "excavations/066_feature_43.html",
  "67": "excavations/067_feature_44.html",
  "68": "excavations/068_feature_45.html",
  "69": "excavations/069_feature_46.html",
  "70": "excavations/070_feature_47.html",
  "71": "excavations/071_feature_48.html",
  "72": "excavations/072_feature_49.html",
  "28": "excavations/028_feature_5_burial_7.html",
  "73": "excavations/073_feature_50_burial_12.html",
  "74": "excavations/074_feature_51.html",
  "75": "excavations/075_feature_52.html",
  "76": "excavations/076_feature_53.html",
  "77": "excavations/077_feature_54_burial_14.html",
  "78": "excavations/078_feature_55.html",
  "79": "excavations/079_feature_56.html",
  "80": "excavations/080_feature_57.html",
  "81": "excavations/081_feature_58.html",
  "82": "excavations/082_feature_59.html",
  "29": "excavations/029_feature_6_burial_8.html",
  "83": "excavations/083_feature_60_burial_27.html",
  "84": "excavations/084_feature_61.html",
  "30": "excavations/030_feature_7_burial_9.html",
  "31": "excavations/031_feature_8.html",
  "32": "excavations/032_feature_9.html",
  "85": "artifacts/085_introduction_to_artifact_analyses.html",
  "86": "artifacts/086_introduction.html",
  "87": "artifacts/087_fredricks_plain.html",
  "88": "artifacts/088_fredricks_check_stamped.html",
  "89": "artifacts/089_simple_stamped_pottery.html",
  "90": "artifacts/090_cord_marked_pottery.html",
  "91": "artifacts/091_uwharrie_net_impressed.html",
  "92": "artifacts/092_brushed_pottery.html",
  "93": "artifacts/093_cob_impressed_pottery.html",
  "94": "artifacts/094_complicated_stamped_pottery.html",
  "95": "artifacts/095_discussion.html",
  "96": "artifacts/096_list_of_tables_and_figures.html",
  "97": "artifacts/097_source.html",
  "98": "artifacts/098_introduction.html",
  "99": "artifacts/099_glossary_of_stone_artifact_types.html",
  "100": "artifacts/100_debitage_flakes.html",
  "101": "artifacts/101_chipped-stone_tools.html",
  "102": "artifacts/102_projectile_points.html",
  "103": "artifacts/103_ground-stone_tools.html",
  "104": "artifacts/104_other_stone_tools.html",
  "105": "artifacts/105_assemblage_characteristics.html",
  "106": "artifacts/106_raw_materials.html",
  "107": "artifacts/107_list_of_tables_and_figures.html",
  "108": "artifacts/108_sources.html",
  "109": "artifacts/109_introduction.html",
  "110": "artifacts/110_pendants.html",
  "111": "artifacts/111_tube_beads.html",
  "112": "artifacts/112_columella_segment_beads.html",
  "113": "artifacts/113_spherical_columella_beads.html",
  "114": "artifacts/114_barrelcylinder_beads.html",
  "115": "artifacts/115_small_disks.html",
  "116": "artifacts/116_wampum.html",
  "117": "artifacts/117_runtees.html",
  "118": "artifacts/118_list_of_figures.html",
  "119": "artifacts/119_source.html",
  "120": "artifacts/120_introduction.html",
  "121": "artifacts/121_architecture_group.html",
  "122": "artifacts/122_arms_group.html",
  "123": "artifacts/123_clothing_group.html",
  "124": "artifacts/124_food_consumption_group.html",
  "125": "artifacts/125_personal_group.html",
  "126": "artifacts/126_construction_tool_group.html",
  "127": "artifacts/127_farm_tool_group.html",
  "128": "artifacts/128_miscellaneous_hardware_group.html",
  "129": "artifacts/129_metal_resource_group.html",
  "130": "artifacts/130_other_artifacts_group.html",
  "131": "artifacts/131_non-recovered_artifacts.html",
  "132": "artifacts/132_list_of_tables_and_figures.html",
  "133": "artifacts/133_list_of_figures_continued.html",
  "134": "artifacts/134_sources.html",
  "135": "foodremains/135_research_questions.html",
  "136": "foodremains/136_ethnohistoric_accounts_of_animal_use.html",
  "137": "foodremains/137_mammals.html",
  "138": "foodremains/138_birds.html",
  "139": "foodremains/139_reptiles.html",
  "140": "foodremains/140_amphibians.html",
  "141": "foodremains/141_fish.html",
  "142": "foodremains/142_summary.html",
  "143": "foodremains/143_recovery_techniques.html",
  "144": "foodremains/144_analytical_procedures.html",
  "145": "foodremains/145_animals_from_the_wall_site.html",
  "146": "foodremains/146_animals_from_the_fredricks_site.html",
  "147": "foodremains/147_comparison_of_the_sites.html",
  "148": "foodremains/148_habitat_preference_and_seasonality.html",
  "149": "foodremains/149_species_diversity.html",
  "150": "foodremains/150_conclusions.html",
  "151": "foodremains/151_list_of_tables_and_figures.html",
  "152": "foodremains/152_source.html",
  "153": "foodremains/153_introduction.html",
  "154": "foodremains/154_analytical_procedures.html",
  "155": "foodremains/155_animals_from_the_fredricks_site.html",
  "156": "foodremains/156_discussion.html",
  "157": "foodremains/157_conclusions.html",
  "158": "foodremains/158_list_of_tables_and_figures.html",
  "159": "foodremains/159_source.html",
  "160": "foodremains/160_introduction.html",
  "161": "foodremains/161_mammals.html",
  "162": "foodremains/162_birds.html",
  "163": "foodremains/163_reptiles_and_amphibians.html",
  "164": "foodremains/164_fish.html",
  "165": "foodremains/165_cut_and_worked_bone.html",
  "166": "foodremains/166_conclusions.html",
  "167": "foodremains/167_list_of_tables_and_figures.html",
  "168": "foodremains/168_source.html",
  "169": "foodremains/169_introduction.html",
  "170": "foodremains/170_preservation_and_recovery.html",
  "171": "foodremains/171_identification_and_quantification.html",
  "172": "foodremains/172_site_comparisons.html",
  "173": "foodremains/173_nuts.html",
  "174": "foodremains/174_crops.html",
  "175": "foodremains/175_fleshy_fruits.html",
  "176": "foodremains/176_miscellaneous_seeds.html",
  "177": "foodremains/177_diversity.html",
  "178": "foodremains/178_summary.html",
  "179": "foodremains/179_additional_data.html",
  "180": "foodremains/180_cost-benefit_analysis.html",
  "181": "foodremains/181_occaneechi_plant_use.html",
  "182": "foodremains/182_spatial_variation.html",
  "183": "foodremains/183_seasonal_variation.html",
  "184": "foodremains/184_summary.html",
  "185": "foodremains/185_list_of_tables_and_figures.html",
  "186": "foodremains/186_source.html",
  "187": "foodremains/187_introduction.html",
  "188": "foodremains/188_methods.html",
  "189": "foodremains/189_nuts.html",
  "190": "foodremains/190_crops.html",
  "191": "foodremains/191_fleshy_fruits.html",
  "192": "foodremains/192_miscellaneous_seeds.html",
  "193": "foodremains/193_charcoal-filled_pits.html",
  "194": "foodremains/194_feature_30.html",
  "195": "foodremains/195_comparison_of_ranks_by_ubiquity_and_weight.html",
  "196": "foodremains/196_discussion_and_conclusions.html",
  "197": "foodremains/197_list_of_tables_and_figures.html",
  "198": "foodremains/198_source.html",
  "199": "foodremains/199_introduction.html",
  "200": "foodremains/200_methods.html",
  "201": "foodremains/201_results.html",
  "202": "foodremains/202_discussion.html",
  "203": "foodremains/203_list_of_tables.html",
  "204": "foodremains/204_source.html",
  "205": "interpretations/205_introduction.html",
  "206": "interpretations/206_population.html",
  "207": "interpretations/207_subsistence.html",
  "208": "interpretations/208_trade_influence.html",
  "209": "interpretations/209_pottery.html",
  "210": "interpretations/210_stone_tools.html",
  "211": "interpretations/211_other_artifacts.html",
  "212": "interpretations/212_conclusions.html",
  "213": "interpretations/213_list_of_figures.html",
  "214": "interpretations/214_sources.html",
  "215": "interpretations/215_introduction.html",
  "216": "interpretations/216_haw,_eno,_and_flat_river_drainages.html",
  "217": "interpretations/217_haw_river_phase_ad_1000-1400.html",
  "218": "interpretations/218_hillsboro_phase_ad_1400-1620.html",
  "219": "interpretations/219_mitchum,_jenrette,_&_fredricks_phases.html",
  "220": "interpretations/220_upper_dan_river_drainage.html",
  "221": "interpretations/221_dan_river_phase_ad_1000-1450.html",
  "222": "interpretations/222_saratown_phase_ad_1450-1710.html",
  "223": "interpretations/223_conclusions.html",
  "224": "interpretations/224_list_of_figures.html",
  "225": "interpretations/225_notes.html",
  "226": "interpretations/226_sources.html",
  "227": "interpretations/227_introduction.html",
  "228": "interpretations/228_approaches_to_analysis.html",
  "229": "interpretations/229_ethnohistoric_background.html",
  "230": "interpretations/230_archaeological_background.html",
  "231": "interpretations/231_the_susquehannock_connection.html",
  "232": "interpretations/232_mortuary_patterns.html",
  "233": "interpretations/233_socio-political_implications.html",
  "234": "interpretations/234_list_of_tables_and_figures.html",
  "235": "interpretations/235_source.html",
  "236": "interpretations/236_introduction.html",
  "237": "interpretations/237_siouan_settlement_patterns.html",
  "238": "interpretations/238_sixteenth-century_community_patterns.html",
  "239": "interpretations/239_seventeenth-century_ethnohistoric_accounts.html",
  "240": "interpretations/240_seventeenth-century_siouan_communities.html",
  "241": "interpretations/241_conclusions.html",
  "242": "interpretations/242_list_of_tables_and_figures.html",
  "243": "interpretations/243_sources.html",
  "244": "interpretations/244_introduction.html",
  "245": "interpretations/245_ethnohistoric_evidence.html",
  "246": "interpretations/246_archaeological_evidence.html",
  "247": "interpretations/247_conclusions.html",
  "248": "interpretations/248_list_of_tables_and_figures.html",
  "249": "interpretations/249_source.html"
};

function setUpPageNumNavigation() {
    console.log('setting up');
    let pageNumElement = document.getElementById("page-num-clickable");
    let pageNum = pageNumElement.innerHTML;
    let height = pageNumElement.getBoundingClientRect().height;
    pageNumElement.onclick = function() {
        let offsetTop = pageNumElement.offsetTop;
        let offsetLeft = pageNumElement.offsetLeft;
        console.log(offsetTop, offsetLeft, pageNum);
        let background = document.createElement('div');
        background.style.cssText = `width:100%;height:100%;z-index:98;opacity:0.9;background:#000;position:fixed;left:0;top:0;`;
        let changePageNum = document.createElement('div');
        styleText = `position:sticky;width:auto;height:${height*1.2}px;z-index:100;top:${offsetTop}px;left:${offsetLeft}px;background:blue;color:snow;`;
        changePageNum.style.cssText = styleText;
        console.log(changePageNum.style.cssText);
        console.log(styleText);
        changePageNum.innerHTML = `<form id="new-page-num-form"><label for="pagenum">Go to Page: </label><input type="text" style="background:white;color:black;width:4em;" name="pagenum" value="${pageNum}"></form>`;
        background.appendChild(changePageNum);
        document.body.appendChild(background);
        form = document.getElementById("new-page-num-form");
        form.onsubmit = function(e) {
            console.log('hi');
            let newPageNum = form.pagenum.value;
            console.log(newPageNum);
            e.stopPropagation();
            e.preventDefault();
            if (!(newPageNum in pageNumJson)) {
                alert("Did not find page " + newPageNum + " on this site!");
                return;
            }
            newPagePath = "../" + pageNumJson[newPageNum];
            console.log(newPagePath);
            window.open(newPagePath, "_self");
        };

        changePageNum.onclick = function(e) {
            e.stopPropagation(); // Prevent closing the page num changer when you click on the div itself, rather than on the background
        }
        background.onclick = function() {
            document.body.removeChild(background);
        }
    }
};

setUpPageNumNavigation();